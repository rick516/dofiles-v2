# dotfiles-v2

## 概要

このリポジトリは、開発環境を素早く設定するための dotfiles 管理システムです。zsh、Neovim、tmux などの設定を含み、複数のマシンで一貫した開発環境を維持するのに役立ちます。

## 特徴

- **zsh**: 
  - prezto フレームワークを使用
  - powerline10k テーマによる視覚的に優れたプロンプト
  - カスタムエイリアスと関数

- **Neovim**: 
  - 最新の Lua ベースの設定
  - プラグインマネージャーとして Packer を使用
  - LSP、自動補完、ファジーファインダーなどの高度な機能

- **tmux**: 
  - 効率的なターミナルマルチプレクサの設定
  - カスタムキーバインディング
  - マウスサポート

- 動的なシンボリックリンク管理システム
- 簡単なインストールとアップデートプロセス

## インストール

1. このリポジトリをクローンします：

   ```bash
   git clone https://github.com/yourusername/dotfiles-v2.git ~/dotfiles
   cd ~/dotfiles
   ```

2. インストールスクリプトを実行します：

   ```bash
   ./install.sh
   ```

3. 新しい zsh セッションを開始するか、以下のコマンドを実行します：

   ```bash
   source ~/.zshrc
   ```

## 使用方法

### zsh

- カスタムエイリアスとファンクションは `~/.zshrc` で定義されています。
- prezto の設定は `~/.zpreztorc` で行います。
- プロンプトのカスタマイズは `p10k configure` コマンドで行えます。

### Neovim

- `nvim` コマンドで Neovim を起動します。
- 初回起動時に、自動的にプラグインがインストールされます。
- カスタムキーマッピング：
  - `<Space>` がリーダーキーとして設定されています。
  - `<leader>ff`: ファイル検索
  - `<leader>fg`: グレップ検索
  - その他のキーマッピングは `~/.config/nvim/init.lua` を参照してください。

### tmux

- `tmux` コマンドで新しいセッションを開始します。
- 主なキーバインド：
  - プレフィックスキー: `Ctrl-a`
  - 新しいウィンドウ: `Prefix + c`
  - ウィンドウ分割（垂直）: `Prefix + v`
  - ウィンドウ分割（水平）: `Prefix + h`
  - ペイン移動: `Alt + 矢印キー`
  - ウィンドウ切り替え: `Shift + 矢印キー`
  - 設定リロード: `Prefix + r`

## カスタマイズと新しい設定ファイルの追加

1. 新しい設定ファイルを `~/dotfiles` ディレクトリに追加します。

2. `update_symlinks.sh` スクリプトを実行して、新しいファイルを `symlinks.txt` に追加します：

   ```bash
   ./update_symlinks.sh
   ```

   このスクリプトは以下の動作を行います：
   - dotfiles ディレクトリ内の新しいファイルを検出
   - ユーザーに各ファイルを symlinks.txt に追加するか確認
   - 承認されたファイルを symlinks.txt に追加

3. `install.sh` を実行して、新しいシンボリックリンクを作成します：

   ```bash
   ./install.sh
   ```

4. 各ツールの設定ファイルを直接編集してカスタマイズできます：
   - zsh: `~/.zshrc`
   - Neovim: `~/.config/nvim/init.lua`
   - tmux: `~/.tmux.conf`

## トラブルシューティング

- 問題が発生した場合は、まず `install.sh` スクリプトを再実行してみてください。
- Neovim のプラグインに問題がある場合は、Neovim 内で `:PackerSync` を実行してみてください。
- tmux の設定が反映されない場合は、tmux 内で `Prefix + r` を押して設定をリロードしてください。
- `update_symlinks.sh` が正しく動作しない場合：
  - スクリプトに実行権限があることを確認してください：`chmod +x update_symlinks.sh`
  - dotfiles ディレクトリ内で実行していることを確認してください。
  - デバッグ情報を確認するために、スクリプト内の `set -x` をアンコメントしてください。
  - `symlinks.txt` ファイルが存在し、書き込み権限があることを確認してください。

## 貢献

バグ報告、機能リクエスト、プルリクエストを歓迎します。大きな変更を加える前に、まずは Issue を開いて議論することをお勧めします。

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。詳細は [LICENSE](LICENSE) ファイルを参照してください。
